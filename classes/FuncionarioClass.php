<?php/** * Description of FuncionarioClass * * @author Ramon Lima */class FuncionarioClass {        protected $id_funcionario;    protected $id_master;    protected $tipo_usuario;    protected $grupo_usuario;    protected $horario_inicio;    protected $horario_fim;    protected $acesso_dias;    protected $nome;    protected $salario;    protected $id_regiao;    protected $regiao;    protected $funcao;    protected $locacao;    protected $endereco;    protected $bairro;    protected $cidade;    protected $uf;    protected $cep;    protected $tel_fixo;    protected $tel_cel;    protected $tel_rec;    protected $data_nasci;    protected $naturalidade;    protected $nacionalidade;    protected $civil;    protected $ctps;    protected $serie_ctps;    protected $uf_ctps;    protected $pis;    protected $rg;    protected $orgao;    protected $data_rg;    protected $cpf;    protected $titulo;    protected $zona;    protected $secao;    protected $pai;    protected $mae;    protected $estuda;    protected $data_escola;    protected $escolaridade;    protected $instituicao;    protected $curso;    protected $foto;    protected $banco;    protected $agencia;    protected $conta;    protected $login;    protected $senha;    protected $alt_senha;    protected $lisenca;    protected $exclusao;    protected $status_reg;    protected $user_cad;    protected $data_cad;    protected $nome1;    protected $botoes;    protected $email_login;    protected $email_senha;    protected $master_origem;    protected $email;    protected $QUERY;    protected $SELECT = ' * ';    protected $FROM = ' funcionario ';    protected $WHERE;    protected $GROUP;    protected $HAVING;    protected $ORDER;    protected $LIMIT;    protected $rs;    protected $row;    protected $numRows;    function __construct() {            }    //GET's DA CLASSE    function getIdFuncionario() {        return $this->id_funcionario;    }    function getIdMaster() {        return $this->id_master;    }    function getTipoUsuario() {        return $this->tipo_usuario;    }    function getGrupoUsuario() {        return $this->grupo_usuario;    }    function getHorarioInicio() {        return $this->horario_inicio;    }    function getHorarioFim() {        return $this->horario_fim;    }    function getAcessoDias() {        return $this->acesso_dias;    }    function getNome() {        return $this->nome;    }    function getSalario() {        return $this->salario;    }    function getIdRegiao() {        return $this->id_regiao;    }    function getRegiao() {        return $this->regiao;    }    function getFuncao() {        return $this->funcao;    }    function getLocacao() {        return $this->locacao;    }    function getEndereco() {        return $this->endereco;    }    function getBairro() {        return $this->bairro;    }    function getCidade() {        return $this->cidade;    }    function getUf() {        return $this->uf;    }    function getCep() {        return $this->cep;    }    function getTelFixo() {        return $this->tel_fixo;    }    function getTelCel() {        return $this->tel_cel;    }    function getTelRec() {        return $this->tel_rec;    }    function getDataNasci($formato = null) {        if (empty($this->data_nasci) || $this->data_nasci == '0000-00-00') {            return '';        } else {            return (!empty($formato)) ? date_format(date_create($this->data_nasci), $formato) : $this->data_nasci;        }    }    function getNaturalidade() {        return $this->naturalidade;    }    function getNacionalidade() {        return $this->nacionalidade;    }    function getCivil() {        return $this->civil;    }    function getCtps() {        return $this->ctps;    }    function getSerieCtps() {        return $this->serie_ctps;    }    function getUfCtps() {        return $this->uf_ctps;    }    function getPis() {        return $this->pis;    }    function getRg() {        return $this->rg;    }    function getOrgao() {        return $this->orgao;    }    function getDataRg($formato = null) {        if (empty($this->data_rg) || $this->data_rg == '0000-00-00') {            return '';        } else {            return (!empty($formato)) ? date_format(date_create($this->data_rg), $formato) : $this->data_rg;        }    }    function getCpf($limpo = false) {        return ($limpo) ? str_replace(array('.','-','/'), '' ,$this->cpf) : $this->cpf;    }    function getTitulo() {        return $this->titulo;    }    function getZona() {        return $this->zona;    }    function getSecao() {        return $this->secao;    }    function getPai() {        return $this->pai;    }    function getMae() {        return $this->mae;    }    function getEstuda() {        return $this->estuda;    }    function getDataEscola($formato = null) {        if (empty($this->data_escola) || $this->data_escola == '0000-00-00') {            return '';        } else {            return (!empty($formato)) ? date_format(date_create($this->data_escola), $formato) : $this->data_escola;        }    }    function getEscolaridade() {        return $this->escolaridade;    }    function getInstituicao() {        return $this->instituicao;    }    function getCurso() {        return $this->curso;    }    function getFoto() {        return $this->foto;    }    function getBanco() {        return $this->banco;    }    function getAgencia() {        return $this->agencia;    }    function getConta() {        return $this->conta;    }    function getLogin() {        return $this->login;    }    function getSenha() {        return $this->senha;    }    function getAltSenha() {        return $this->alt_senha;    }    function getLisenca() {        return $this->lisenca;    }    function getExclusao() {        return $this->exclusao;    }    function getStatusReg() {        return $this->status_reg;    }    function getUserCad() {        return $this->user_cad;    }    function getDataCad($formato = null) {        if (empty($this->data_cad) || $this->data_cad == '0000-00-00') {            return '';        } else {            return (!empty($formato)) ? date_format(date_create($this->data_cad), $formato) : $this->data_cad;        }    }    function getNome1() {        return $this->nome1;    }    function getBotoes() {        return $this->botoes;    }    function getEmailLogin() {        return $this->email_login;    }    function getEmailSenha() {        return $this->email_senha;    }    function getMasterOrigem() {        return $this->master_origem;    }        function getEmail() {        return $this->email;    }    //SET's DA CLASSE    function setIdFuncionario($id_funcionario) {        $this->id_funcionario = $id_funcionario;    }    function setIdMaster($id_master) {        $this->id_master = $id_master;    }    function setTipoUsuario($tipo_usuario) {        $this->tipo_usuario = $tipo_usuario;    }    function setGrupoUsuario($grupo_usuario) {        $this->grupo_usuario = $grupo_usuario;    }    function setHorarioInicio($horario_inicio) {        $this->horario_inicio = $horario_inicio;    }    function setHorarioFim($horario_fim) {        $this->horario_fim = $horario_fim;    }    function setAcessoDias($acesso_dias) {        $this->acesso_dias = $acesso_dias;    }    function setNome($nome) {        $this->nome = $nome;    }    function setSalario($salario) {        $this->salario = $salario;    }    function setIdRegiao($id_regiao) {        $this->id_regiao = $id_regiao;    }    function setRegiao($regiao) {        $this->regiao = $regiao;    }    function setFuncao($funcao) {        $this->funcao = $funcao;    }    function setLocacao($locacao) {        $this->locacao = $locacao;    }    function setEndereco($endereco) {        $this->endereco = $endereco;    }    function setBairro($bairro) {        $this->bairro = $bairro;    }    function setCidade($cidade) {        $this->cidade = $cidade;    }    function setUf($uf) {        $this->uf = $uf;    }    function setCep($cep) {        $this->cep = $cep;    }    function setTelFixo($tel_fixo) {        $this->tel_fixo = $tel_fixo;    }    function setTelCel($tel_cel) {        $this->tel_cel = $tel_cel;    }    function setTelRec($tel_rec) {        $this->tel_rec = $tel_rec;    }    function setDataNasci($data_nasci) {        $this->data_nasci = $data_nasci;    }    function setNaturalidade($naturalidade) {        $this->naturalidade = $naturalidade;    }    function setNacionalidade($nacionalidade) {        $this->nacionalidade = $nacionalidade;    }    function setCivil($civil) {        $this->civil = $civil;    }    function setCtps($ctps) {        $this->ctps = $ctps;    }    function setSerieCtps($serie_ctps) {        $this->serie_ctps = $serie_ctps;    }    function setUfCtps($uf_ctps) {        $this->uf_ctps = $uf_ctps;    }    function setPis($pis) {        $this->pis = $pis;    }    function setRg($rg) {        $this->rg = $rg;    }    function setOrgao($orgao) {        $this->orgao = $orgao;    }    function setDataRg($data_rg) {        $this->data_rg = $data_rg;    }    function setCpf($cpf) {        $this->cpf = $cpf;    }    function setTitulo($titulo) {        $this->titulo = $titulo;    }    function setZona($zona) {        $this->zona = $zona;    }    function setSecao($secao) {        $this->secao = $secao;    }    function setPai($pai) {        $this->pai = $pai;    }    function setMae($mae) {        $this->mae = $mae;    }    function setEstuda($estuda) {        $this->estuda = $estuda;    }    function setDataEscola($data_escola) {        $this->data_escola = $data_escola;    }    function setEscolaridade($escolaridade) {        $this->escolaridade = $escolaridade;    }    function setInstituicao($instituicao) {        $this->instituicao = $instituicao;    }    function setCurso($curso) {        $this->curso = $curso;    }    function setFoto($foto) {        $this->foto = $foto;    }    function setBanco($banco) {        $this->banco = $banco;    }    function setAgencia($agencia) {        $this->agencia = $agencia;    }    function setConta($conta) {        $this->conta = $conta;    }    function setLogin($login) {        $this->login = $login;    }    function setSenha($senha) {        $this->senha = $senha;    }    function setAltSenha($alt_senha) {        $this->alt_senha = $alt_senha;    }    function setLisenca($lisenca) {        $this->lisenca = $lisenca;    }    function setExclusao($exclusao) {        $this->exclusao = $exclusao;    }    function setStatusReg($status_reg) {        $this->status_reg = $status_reg;    }    function setUserCad($user_cad) {        $this->user_cad = $user_cad;    }    function setDataCad($data_cad) {        $this->data_cad = $data_cad;    }    function setNome1($nome1) {        $this->nome1 = $nome1;    }    function setBotoes($botoes) {        $this->botoes = $botoes;    }    function setEmailLogin($email_login) {        $this->email_login = $email_login;    }    function setEmailSenha($email_senha) {        $this->email_senha = $email_senha;    }    function setMasterOrigem($master_origem) {        $this->master_origem = $master_origem;    }        function setEmail($email) {        $this->email = $email;    }    protected function setQUERY($QUERY) {        $this->QUERY = $QUERY;    }    protected function setSELECT($SELECT) {        $this->SELECT = $SELECT;    }    protected function setFROM($FROM) {        $this->FROM = $FROM;    }    protected function setWHERE($WHERE) {        $this->WHERE = $WHERE;    }    protected function setGROUP($GROUP) {        $this->GROUP = $GROUP;    }    protected function setORDER($ORDER) {        $this->ORDER = $ORDER;    }    protected function setLIMIT($LIMIT) {        $this->LIMIT = $LIMIT;    }    protected function setHAVING($HAVING) {        $this->HAVING = $HAVING;    }    //SET DEFAULT    function setDefault() {        $this->id_funcionario = null;        $this->id_master = null;        $this->tipo_usuario = null;        $this->grupo_usuario = null;        $this->horario_inicio = null;        $this->horario_fim = null;        $this->acesso_dias = null;        $this->nome = null;        $this->salario = null;        $this->id_regiao = null;        $this->regiao = null;        $this->funcao = null;        $this->locacao = null;        $this->endereco = null;        $this->bairro = null;        $this->cidade = null;        $this->uf = null;        $this->cep = null;        $this->tel_fixo = null;        $this->tel_cel = null;        $this->tel_rec = null;        $this->data_nasci = null;        $this->naturalidade = null;        $this->nacionalidade = null;        $this->civil = null;        $this->ctps = null;        $this->serie_ctps = null;        $this->uf_ctps = null;        $this->pis = null;        $this->rg = null;        $this->orgao = null;        $this->data_rg = null;        $this->cpf = null;        $this->titulo = null;        $this->zona = null;        $this->secao = null;        $this->pai = null;        $this->mae = null;        $this->estuda = null;        $this->data_escola = null;        $this->escolaridade = null;        $this->instituicao = null;        $this->curso = null;        $this->foto = null;        $this->banco = null;        $this->agencia = null;        $this->conta = null;        $this->login = null;        $this->senha = null;        $this->alt_senha = null;        $this->lisenca = null;        $this->exclusao = null;        $this->status_reg = null;        $this->user_cad = null;        $this->data_cad = null;        $this->nome1 = null;        $this->botoes = null;        $this->email_login = null;        $this->email_senha = null;        $this->master_origem = null;        $this->email = null;    }    protected function setRs() {        if (!empty($this->QUERY)) {            $sql = $this->QUERY;        } else {            $auxWhere = (!empty($this->WHERE)) ? " WHERE $this->WHERE " : null;            $auxGroup = (!empty($this->GROUP)) ? " GROUP BY $this->GROUP " : null;            $auxHaving = (!empty($this->HAVING)) ? " HAVING $this->HAVING " : null;            $auxOrder = (!empty($this->ORDER)) ? " ORDER BY $this->ORDER " : null;            $auxLimit = (!empty($this->LIMIT)) ? " LIMIT $this->LIMIT " : null;            $sql = "SELECT $this->SELECT FROM $this->FROM $auxWhere $auxGroup $auxHaving $auxOrder $auxLimit";        }        $this->rs = mysql_query($sql);        return $this->rs;    }    protected function limpaQuery() {        $this->setQUERY('');        $this->setSELECT(' * ');        $this->setFROM(' funcionario ');        $this->setWHERE('');        $this->setGROUP('');        $this->setHAVING('');        $this->setORDER('');        $this->setLIMIT('');    }    public function getNumRows() {        $this->numRows = mysql_num_rows($this->rs);        return $this->numRows;    }    protected function setRow($valor) {        return $this->row = mysql_fetch_assoc($valor);    }    //RECUPERANDO INFO DO BANCO    public function getRow() {        if ($this->setRow($this->rs)) {            $this->setIdFuncionario($this->row['id_funcionario']);            $this->setIdMaster($this->row['id_master']);            $this->setTipoUsuario($this->row['tipo_usuario']);            $this->setGrupoUsuario($this->row['grupo_usuario']);            $this->setHorarioInicio($this->row['horario_inicio']);            $this->setHorarioFim($this->row['horario_fim']);            $this->setAcessoDias($this->row['acesso_dias']);            $this->setNome($this->row['nome']);            $this->setSalario($this->row['salario']);            $this->setIdRegiao($this->row['id_regiao']);            $this->setRegiao($this->row['regiao']);            $this->setFuncao($this->row['funcao']);            $this->setLocacao($this->row['locacao']);            $this->setEndereco($this->row['endereco']);            $this->setBairro($this->row['bairro']);            $this->setCidade($this->row['cidade']);            $this->setUf($this->row['uf']);            $this->setCep($this->row['cep']);            $this->setTelFixo($this->row['tel_fixo']);            $this->setTelCel($this->row['tel_cel']);            $this->setTelRec($this->row['tel_rec']);            $this->setDataNasci($this->row['data_nasci']);            $this->setNaturalidade($this->row['naturalidade']);            $this->setNacionalidade($this->row['nacionalidade']);            $this->setCivil($this->row['civil']);            $this->setCtps($this->row['ctps']);            $this->setSerieCtps($this->row['serie_ctps']);            $this->setUfCtps($this->row['uf_ctps']);            $this->setPis($this->row['pis']);            $this->setRg($this->row['rg']);            $this->setOrgao($this->row['orgao']);            $this->setDataRg($this->row['data_rg']);            $this->setCpf($this->row['cpf']);            $this->setTitulo($this->row['titulo']);            $this->setZona($this->row['zona']);            $this->setSecao($this->row['secao']);            $this->setPai($this->row['pai']);            $this->setMae($this->row['mae']);            $this->setEstuda($this->row['estuda']);            $this->setDataEscola($this->row['data_escola']);            $this->setEscolaridade($this->row['escolaridade']);            $this->setInstituicao($this->row['instituicao']);            $this->setCurso($this->row['curso']);            $this->setFoto($this->row['foto']);            $this->setBanco($this->row['banco']);            $this->setAgencia($this->row['agencia']);            $this->setConta($this->row['conta']);            $this->setLogin($this->row['login']);            $this->setSenha($this->row['senha']);            $this->setAltSenha($this->row['alt_senha']);            $this->setLisenca($this->row['lisenca']);            $this->setExclusao($this->row['exclusao']);            $this->setStatusReg($this->row['status_reg']);            $this->setUserCad($this->row['user_cad']);            $this->setDataCad($this->row['data_cad']);            $this->setNome1($this->row['nome1']);            $this->setBotoes($this->row['botoes']);            $this->setEmailLogin($this->row['email_login']);            $this->setEmailSenha($this->row['email_senha']);            $this->setMasterOrigem($this->row['master_origem']);            $this->setEmail($this->row['email']);            return 1;        } else {            //$this->setError(mysql_error());            return 0;        }    }    private function makeCampos() {        $array = array(            'id_master' => addslashes($this->getIdMaster()),            'tipo_usuario' => addslashes($this->getTipoUsuario()),            'grupo_usuario' => addslashes($this->getGrupoUsuario()),            'horario_inicio' => addslashes($this->getHorarioInicio()),            'horario_fim' => addslashes($this->getHorarioFim()),            'acesso_dias' => addslashes($this->getAcessoDias()),            'nome' => addslashes($this->getNome()),            'salario' => addslashes($this->getSalario()),            'id_regiao' => addslashes($this->getIdRegiao()),            'regiao' => addslashes($this->getRegiao()),            'funcao' => addslashes($this->getFuncao()),            'locacao' => addslashes($this->getLocacao()),            'endereco' => addslashes($this->getEndereco()),            'bairro' => addslashes($this->getBairro()),            'cidade' => addslashes($this->getCidade()),            'uf' => addslashes($this->getUf()),            'cep' => addslashes($this->getCep()),            'tel_fixo' => addslashes($this->getTelFixo()),            'tel_cel' => addslashes($this->getTelCel()),            'tel_rec' => addslashes($this->getTelRec()),            'data_nasci' => addslashes($this->getDataNasci()),            'naturalidade' => addslashes($this->getNaturalidade()),            'nacionalidade' => addslashes($this->getNacionalidade()),            'civil' => addslashes($this->getCivil()),            'ctps' => addslashes($this->getCtps()),            'serie_ctps' => addslashes($this->getSerieCtps()),            'uf_ctps' => addslashes($this->getUfCtps()),            'pis' => addslashes($this->getPis()),            'rg' => addslashes($this->getRg()),            'orgao' => addslashes($this->getOrgao()),            'data_rg' => addslashes($this->getDataRg()),            'cpf' => addslashes($this->getCpf()),            'titulo' => addslashes($this->getTitulo()),            'zona' => addslashes($this->getZona()),            'secao' => addslashes($this->getSecao()),            'pai' => addslashes($this->getPai()),            'mae' => addslashes($this->getMae()),            'estuda' => addslashes($this->getEstuda()),            'data_escola' => addslashes($this->getDataEscola()),            'escolaridade' => addslashes($this->getEscolaridade()),            'instituicao' => addslashes($this->getInstituicao()),            'curso' => addslashes($this->getCurso()),            'foto' => addslashes($this->getFoto()),            'banco' => addslashes($this->getBanco()),            'agencia' => addslashes($this->getAgencia()),            'conta' => addslashes($this->getConta()),            'login' => addslashes($this->getLogin()),            'senha' => addslashes($this->getSenha()),            'alt_senha' => addslashes($this->getAltSenha()),            'lisenca' => addslashes($this->getLisenca()),            'exclusao' => addslashes($this->getExclusao()),            'status_reg' => addslashes($this->getStatusReg()),            'user_cad' => addslashes($this->getUserCad()),            'data_cad' => addslashes($this->getDataCad()),            'nome1' => addslashes($this->getNome1()),            'botoes' => addslashes($this->getBotoes()),            'email_login' => addslashes($this->getEmailLogin()),            'email_senha' => addslashes($this->getEmailSenha()),            'master_origem' => addslashes($this->getMasterOrigem()),            'email' => addslashes($this->getEmail()),        );        return $array;    }    public function update() {        $this->limpaQuery();        $array = $this->makeCampos();        foreach ($array as $key => $value) {            $camposUpdate[] = "$key = '$value'";        }        $this->setQUERY("UPDATE funcionario SET " . implode(", ", ($camposUpdate)) . " WHERE id_funcionario = {$this->getIdFuncionario()} LIMIT 1;");        if ($this->setRs()) {            return 1;        } else {            return 0; //$this->setError(mysql_error());        }    }    public function insert() {        $this->limpaQuery();        $array = $this->makeCampos();        $keys = implode(',', array_keys($array));        $values = implode("' , '", $array);        $this->setQUERY("INSERT INTO funcionario ($keys) VALUES ('$values');");        if ($this->setRs()) {            $this->setIdFuncionario(mysql_insert_id());            return 1;        } else {            die(mysql_error());        }    }    public function inativa() {        $this->limpaQuery();        $this->setQUERY("UPDATE funcionario SET status = 0 WHERE id_funcionario = {$this->getIdFuncionario()} LIMIT 1;");        if ($this->setRs()) {            return 1;        } else {            die(mysql_error());        }    }    public function deleta() {        $this->limpaQuery();        $this->setQUERY("DELETE FROM funcionario WHERE id_funcionario = {$this->getIdFuncionario()} LIMIT 1;");        if ($this->setRs()) {            return 1;        } else {            die(mysql_error());        }    }        public function getFuncionarioById() {        $this->limpaQuery();        $this->setQUERY("SELECT * FROM funcionario WHERE id_funcionario = {$this->getIdFuncionario()} LIMIT 1;");        if ($this->setRs()) {            return 1;        } else {            die(mysql_error());        }    }        public function getAniversariantes($mes=null){                $_mes = ($mes!=null) ? $mes : date("m");        $usuario = carregaUsuario();        $niver = mysql_query("SELECT A.id_funcionario,nome,nome1,DATE_FORMAT(A.data_nasci, '%d/%m') AS data                                FROM funcionario AS A                                /*INNER JOIN funcionario_master AS B ON (B.id_funcionario = A.id_funcionario)*/                                WHERE MONTH(data_nasci) = '{$_mes}' AND A.status_reg = '1' AND A.data_nasci != '0000-00-00' AND A.id_master = '{$usuario['id_master']}'                                GROUP BY A.id_funcionario                                ORDER BY MONTH(data_nasci), DAY(data_nasci)");        $pessoas = array();        while ($aniversarios = mysql_fetch_array($niver)) {            $pessoas[] = $aniversarios;        }        return $pessoas;    }        public function getAniversariantesHoje() {        $usuario = carregaUsuario();        $niver = mysql_query("SELECT A.id_funcionario,nome,nome1, DATE_FORMAT(A.data_nasci, '%d/%m') AS data                    FROM funcionario AS A                    INNER JOIN funcionario_master AS B ON (B.id_funcionario = A.id_funcionario)                    WHERE MONTH(data_nasci) = MONTH(CURRENT_DATE()) AND DAY(data_nasci) = DAY(CURRENT_DATE()) AND A.status_reg = '1' AND A.data_nasci != '0000-00-00' AND B.id_master = '{$usuario['id_master']}'                    AND A.oculto = 0                    GROUP BY A.id_funcionario                    ORDER BY MONTH(data_nasci), DAY(data_nasci)") or die(mysql_error());        $pessoas = array();        while ($aniversarios = mysql_fetch_array($niver)) {            $pessoas[] = $aniversarios;        }        return $pessoas;    }        public static function getTotalAniversariantes($mes=null){        $obj = new FuncionarioClass();        $res = $obj->getAniversariantes($mes);        $total = count($res);        return $total;    }        public static function getFuncionariosEmFerias() {        $usuario = carregaUsuario();        $sql = mysql_query("SELECT COUNT(id_clt) AS tot                        FROM rh_clt                        WHERE status = 40 AND id_regiao = {$usuario['id_regiao']}");        $tot = mysql_result($sql,0);        return $tot;    }        public static function getFuncionariosEmLicenca() {        $usuario = carregaUsuario();        $sql = mysql_query("SELECT COUNT(id_clt) AS tot                        FROM rh_clt                        WHERE status IN(20,50,51,52,70,90,53,54,56,55) AND id_regiao = {$usuario['id_regiao']}");        $tot = mysql_result($sql,0);        return $tot;    }        public static function getFuncionariosAguardandoDemissao() {        $usuario = carregaUsuario();        $sql = mysql_query("SELECT COUNT(id_clt) AS tot                        FROM rh_clt                        WHERE status = 200 AND id_regiao = {$usuario['id_regiao']}");        $tot = mysql_result($sql,0);        return $tot;    }        public static function getFuncionariosAtividadeNormal() {        $usuario = carregaUsuario();        $sql = mysql_query("SELECT COUNT(id_clt) AS tot                        FROM rh_clt                        WHERE status = 10 AND id_regiao = {$usuario['id_regiao']}");        $tot = mysql_result($sql,0);        return $tot;    }        public function getDadosEmail(){        $usuario = carregaUsuario();        $email_user = mysql_fetch_array(mysql_query("SELECT email, senha, webmail_new_version, flavor FROM funcionario_email_assoc WHERE id_funcionario = {$usuario['id_funcionario']} AND id_master = {$usuario['id_master']}"));        $master_data = mysql_fetch_array(mysql_query("SELECT email_servidor FROM master WHERE id_master = {$usuario['id_master']}"));        $email_user['webmail_host'] = $master_data['email_servidor'];        return $email_user;    }        public function getFuncionarioNome($id_funcionario, $abreviado = FALSE){        $funcionario = mysql_fetch_array(mysql_query("SELECT nome FROM funcionario WHERE id_funcionario = {$id_funcionario} LIMIT 1"));        $nome = $funcionario['nome'];        if($abreviado){            $nome = explode(' ',$nome);            $nome = $nome[0] . ' ' . $nome[count($nome)-1];        }        return $nome;    }        public function listFuncionariosAtivos($oculto = 0){        $sql = "SELECT * FROM funcionario WHERE status_reg = 1 AND oculto = {$oculto} ORDER BY nome";        $result = mysql_query($sql);                $funcionarios = array();        while ($row = mysql_fetch_array($result)) {            $funcionarios[] = $row;        }        return $funcionarios;    }    public function listFuncionariosInativos(){        $sql = "SELECT * FROM funcionario WHERE status_reg = 0 ORDER BY nome";        $result = mysql_query($sql);                $funcionarios = array();        while ($row = mysql_fetch_array($result)) {            $funcionarios[] = $row;        }        return $funcionarios;    }}